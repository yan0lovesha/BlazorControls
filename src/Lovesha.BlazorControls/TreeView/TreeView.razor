@using Lovesha.BlazorControls.TreeView
@using Lovesha.BlazorControls.TreeView.Components

<CascadingValue Value=this>
    @foreach (var rootNode in RootNodes)
    {
        <TreeNode NodeObj="@rootNode"></TreeNode>
    }
</CascadingValue>

@code {
    [Parameter]
    public List<TreeNodeObject> RootNodes { get; set; }
    [Parameter]
    public TreeNodeObject SelectedNode { get; set; }
    [Parameter]
    public bool ExpandAll { get; set; }

    [Parameter]
    public Action<TreeNodeObject> OnNodeSelected { get; set; } = (nodeObj) => { };
    [Parameter]
    public Action<TreeNodeObject> OnNodeExpanded { get; set; } = (nodeObj) => { };
    [Parameter]
    public Action<TreeNodeObject> OnNodeCollapsed { get; set; } = (nodeObj) => { };

    public void NodeSelected(TreeNodeObject selectedNodeObj)
    {
        SelectedNode = selectedNodeObj;
        StateHasChanged();
        OnNodeSelected(selectedNodeObj);
    }
}